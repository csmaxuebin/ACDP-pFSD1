def sum_with_for_loop(numbers):
    total = 0
    reward = []
    t=1
    for num in numbers:

        total += num
        reward.append(total)
        t+=1
    return reward


def calculate_discounted_rewards(rewards, gamma):
    """
    计算带折扣的累积奖励。
    :param rewards: 每轮的即时奖励数组。
    :param gamma: 折扣因子，介于0和1之间。
    :return: 每轮的累积奖励数组。
    """
    n = len(rewards)
    discounted_rewards = [0] * n  # 初始化累积奖励数组
    cumulative = 0  # 从最后一轮开始

    # 从后向前计算累积奖励
    for i in reversed(range(n)):
        cumulative = rewards[i] + gamma * cumulative
        discounted_rewards[i] = cumulative

    return discounted_rewards


# 示例用法
rewards = [1, 0, 0, 2, 0, 1, 0]
gamma = 0.99
discounted_rewards = calculate_discounted_rewards(rewards, gamma)
print("带折扣的累积奖励:", discounted_rewards)

if __name__ == '__main__':
    reward=[]
    numbers=[5.713, -4.5120000000000005, 1.6935000000000002, 0.08580000000000032, 0.20469999999999988, 1.2829000000000002, -4.6557, 5.4205000000000005, -0.12900000000000045, 3.594900000000001, 1.838799999999999, -2.3282000000000007, 0.1404000000000014, 2.2097999999999995, -0.3530999999999995, 0.6327999999999996, 2.1182999999999996, -0.8500999999999994, 3.2144999999999992, -0.7327999999999992, 3.4307, -1.2889000000000017, 0.1694000000000031, -0.5183, 2.2235999999999976, -0.03889999999999816, -0.6961000000000013, 2.1972999999999985, -0.8065999999999995, -1.1160999999999994, 3.1233000000000004, -1.3480999999999987, 1.3328999999999986, -1.0716999999999999, 1.7105999999999995, -0.5934999999999988, 0.4346999999999994, -0.2735999999999983, 0.5039999999999978, 1.5412999999999997, -1.2265999999999977, -1.6479, 1.504299999999997, 1.129800000000003, -1.064, -0.6320000000000014, 1.0989000000000004, 0.4128000000000007, -0.01670000000000016, -0.6658000000000008, 0.476700000000001, 0.22860000000000014, 0.9381999999999984, -0.8664999999999985, 0.4396999999999984, 0.2032999999999987, -0.3448999999999991, 0.6986000000000026, 0.10099999999999909, -0.1875, -0.012100000000000222, -0.5472999999999999, 0.7329000000000008, -0.08480000000000132, -0.1891999999999996, 0.8072999999999979, -1.2824999999999989, 0.2878000000000007, -0.48910000000000053, 0.3930000000000007, -0.6321000000000012, 0.17040000000000077, 0.24429999999999907, -0.20289999999999964, -0.006599999999998829, 0.8546999999999976, 0.3218000000000032, -0.3943000000000012, 0.18659999999999854, -0.32179999999999964, -0.26459999999999795, 1.2785999999999973, -1.0838999999999999, 0.3880000000000017, -0.6582000000000008, 0.011400000000001853, 0.8308999999999997, -0.3555000000000028, 0.3947000000000003, 0.04150000000000276, -0.4975000000000023, 0.05930000000000035, 0.09600000000000009, 0.8725000000000023, -0.5385000000000026, 0.16920000000000002, 0.6845999999999997, -0.34559999999999746, -0.9136000000000024]

    reward=sum_with_for_loop(numbers)

    print(reward)